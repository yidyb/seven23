{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/axios/lib/utils.js","webpack:///./node_modules/jose-jwe-jws/dist/jose-commonjs.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/axios/index.js","webpack:///./node_modules/axios/lib/helpers/bind.js","webpack:///./node_modules/axios/lib/helpers/buildURL.js","webpack:///./node_modules/axios/lib/cancel/isCancel.js","webpack:///./node_modules/axios/lib/defaults.js","webpack:///./node_modules/axios/lib/adapters/xhr.js","webpack:///./node_modules/axios/lib/core/createError.js","webpack:///./node_modules/axios/lib/core/mergeConfig.js","webpack:///./node_modules/axios/lib/cancel/Cancel.js","webpack:///./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/axios/lib/axios.js","webpack:///./node_modules/axios/lib/core/Axios.js","webpack:///./node_modules/axios/lib/core/InterceptorManager.js","webpack:///./node_modules/axios/lib/core/dispatchRequest.js","webpack:///./node_modules/axios/lib/core/transformData.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/axios/lib/helpers/normalizeHeaderName.js","webpack:///./node_modules/axios/lib/core/settle.js","webpack:///./node_modules/axios/lib/core/enhanceError.js","webpack:///./node_modules/axios/lib/core/buildFullPath.js","webpack:///./node_modules/axios/lib/helpers/isAbsoluteURL.js","webpack:///./node_modules/axios/lib/helpers/combineURLs.js","webpack:///./node_modules/axios/lib/helpers/parseHeaders.js","webpack:///./node_modules/axios/lib/helpers/isURLSameOrigin.js","webpack:///./node_modules/axios/lib/helpers/cookies.js","webpack:///./node_modules/axios/lib/cancel/CancelToken.js","webpack:///./node_modules/axios/lib/helpers/spread.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/buffer/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/buffer/node_modules/isarray/index.js","webpack:///./src/app/constants.js","webpack:///./src/app/storage.js","webpack:///./src/app/encryption.js","webpack:///./src/app/workers/Categories.worker.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","toString","isArray","val","isUndefined","isObject","isFunction","forEach","obj","fn","length","isArrayBuffer","isBuffer","constructor","isFormData","FormData","isArrayBufferView","ArrayBuffer","isView","buffer","isString","isNumber","isDate","isFile","isBlob","isStream","pipe","isURLSearchParams","URLSearchParams","isStandardBrowserEnv","navigator","product","window","document","merge","result","assignValue","arguments","deepMerge","extend","a","b","thisArg","trim","str","replace","Jose","JoseJWE","JoseJWS","setCrypto","cp","crypto","atob","Buffer","btoa","caniuse","Promise","reject","then","all","subtle","getRandomValues","importKey","generateKey","exportKey","wrapKey","unwrapKey","encrypt","decrypt","sign","Uint8Array","Uint32Array","JSON","parse","stringify","assert","expr","msg","Error","WebCryptographer","this","setKeyEncryptionAlgorithm","setContentEncryptionAlgorithm","setContentSignAlgorithm","alg","key_encryption","getCryptoConfig","getKeyEncryptionAlgorithm","jwe_name","content_encryption","getContentEncryptionAlgorithm","content_sign","getSignConfig","getContentSignAlgorithm","jwa_name","createIV","iv","Array","iv_bytes","createCek","hack","getCekWorkaround","id","enc_op","wrapCek","cek","unwrapCek","extractable","specific_cek_bytes","dec_op","len","hash","aad","cek_promise","plain_text","config","auth","aead","tag_bytes","enc","additionalData","tagLength","cipher_text","offset","byteLength","cipher","slice","tag","keys","splitKey","mac_key_promise","cipher_text_promise","enc_key","mac_promise","truncatedMac","dec","buf","Utils","arrayBufferConcat","enc_key_promise","mac","arr1","arr2","mac_key","hash1","hash2","resolve","compare","catch","err","payload","key_promise","arrayFromString","Base64Url","encode","encodeArray","verify","signature","key_id","getJwaNameForSignKey","res","kid","verified","keyId","rsa_key","sha256","purpose","cek_bytes_promise","cek_bytes","key_bytes","bytes","truncated_bytes","al","arrayFromInt32","al_full","set","saltLength","rv","sign_algo","algorithm","hash_algo","indexOf","substring","getKeyUsageByAlg","publicKey","privateKey","importRsaPublicKey","jwk","usage","convertRsaKey","rk","ext","importRsaPrivateKey","String","arrayish","arr","parameters","missing","map","push","join","kty","er","intFromHex","e","parseInt","v","stripLeadingZeros","test","split","charCodeAt","arrayFromUtf8String","unescape","encodeURIComponent","stringFromArray","fromCharCode","utf8StringFromArray","decodeURIComponent","escape","is_leading_zero","j","args","total","decode","decodeArray","digest","isCryptoKey","Encrypter","cryptographer","userHeaders","addHeader","k","encrypted_cek","enc_promise","headers","jwe_protected_header","header","encryptPlainText","data","Decrypter","getHeaders","parts","crit","Signer","key_promises","waiting_kid","signer_aads","signer_headers","addSigner","kid_promise","that","addSignature","jws","protected","JWS","fromObject","kids","doSign","pl","ph","uh","kps","k_id","shift","message","protectedHeader","unprotectedHeader","rsa_key_promise","toBeSigned","typ","signatures","JsonSerialize","CompactSerialize","Verifier","keyfinder","jwt","exec","unshift","addRecipient","console","log","promises","sig","vr","configurable","writable","instance","Constructor","TypeError","apply","utils","url","params","paramsSerializer","serializedParams","toISOString","hashmarkIndex","__CANCEL__","normalizeHeaderName","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","adapter","defaults","XMLHttpRequest","process","transformRequest","transformResponse","timeout","xsrfCookieName","xsrfHeaderName","maxContentLength","validateStatus","status","common","method","settle","buildURL","buildFullPath","parseHeaders","isURLSameOrigin","createError","requestData","requestHeaders","request","username","password","Authorization","fullPath","baseURL","open","toUpperCase","onreadystatechange","readyState","responseURL","responseHeaders","getAllResponseHeaders","response","responseType","responseText","statusText","onabort","onerror","ontimeout","timeoutErrorMessage","cookies","xsrfValue","withCredentials","read","undefined","toLowerCase","setRequestHeader","onDownloadProgress","addEventListener","onUploadProgress","upload","cancelToken","promise","cancel","abort","send","enhanceError","code","error","config1","config2","valueFromConfig2Keys","mergeDeepPropertiesKeys","defaultToConfig2Keys","prop","axiosKeys","concat","otherKeys","filter","Cancel","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","_defineProperties","target","props","descriptor","protoProps","staticProps","Axios","mergeConfig","createInstance","defaultConfig","context","axios","instanceConfig","CancelToken","isCancel","spread","default","InterceptorManager","dispatchRequest","interceptors","chain","interceptor","fulfilled","rejected","getUri","handlers","use","eject","h","transformData","throwIfCancellationRequested","throwIfRequested","reason","fns","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","run","marker","runClearTimeout","Item","array","noop","nextTick","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","normalizedName","isAxiosError","toJSON","description","number","fileName","lineNumber","columnNumber","stack","isAbsoluteURL","combineURLs","requestedURL","relativeURL","ignoreDuplicateOf","parsed","line","substr","originURL","msie","userAgent","urlParsingNode","createElement","resolveURL","href","setAttribute","protocol","host","search","hostname","port","pathname","charAt","location","requestURL","write","expires","path","domain","secure","cookie","Date","toGMTString","match","RegExp","remove","now","executor","resolvePromise","token","source","callback","arrayLikeToArray","iter","iterator","from","minLen","base64","ieee754","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","RangeError","__proto__","arg","encodingOrOffset","allocUnsafe","byteOffset","fromArrayLike","fromArrayBuffer","string","encoding","isEncoding","actual","fromString","checked","copy","type","assertSize","size","loweredCase","utf8ToBytes","base64ToBytes","slowToString","start","end","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","isNaN","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","readUInt16BE","foundIndex","found","hexWrite","Number","remaining","strLen","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","Math","min","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","global","foo","subarray","typedArraySupport","poolSize","_augment","species","fill","allocUnsafeSlow","_isBuffer","x","y","list","pos","swap16","swap32","swap64","equals","inspect","max","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","_arr","ret","out","toHex","checkOffset","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","Infinity","leadSurrogate","toByteArray","stringtrim","base64clean","src","dst","g","Function","b64","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","len2","encodeChunk","lookup","num","output","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","abs","LN2","StorageInstance","indexedDB","onupgradeneeded","event","connection","objectStoreNames","item","deleteObjectStore","objectStore","createObjectStore","keyPath","createIndex","unique","onblocked","onsuccess","_arrayBufferToBase64","binary","ERROR_NO_KEY","EncryptionInstance","_key","_","encrypter","decrypter","input","decrypted_plain_text","onmessage","action","uuid","categories","storage","connectIndexedDB","index","keyRange","transaction","IDBKeyRange","only","account","openCursor","cursor","category","continue","postMessage","categoriesList","categoriesTree","ids","parent","sort","children","recursiveGrowTree","accounts","delete","clear","newCipher","oldCipher","encryption","blob","json","exception"],"mappings":"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","file":"a0b13562f8fc6eb182dd.worker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 42);\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Function equal to merge with the difference being that no reference\n * to original objects is kept.\n *\n * @see merge\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction deepMerge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = deepMerge(result[key], val);\n    } else if (typeof val === 'object') {\n      result[key] = deepMerge({}, val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  deepMerge: deepMerge,\n  extend: extend,\n  trim: trim\n};\n","/*-\n * Copyright 2014 Square Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar Jose = {};\n\n/**\n * Javascript Object Signing and Encryption library.\n *\n * @author Alok Menghrajani <alok@squareup.com>\n */\n\n/**\n * Initializes a JoseJWE object.\n */\nvar JoseJWE = {};\n\n/**\n * Initializes a JoseJWS object.\n */\nvar JoseJWS = {};\n\n/**\n * Set crypto provider to use (window.crypto, node-webcrypto-ossl, node-webcrypto-pkcs11 etc.).\n */\nexports.setCrypto = function (cp) {\n  Jose.crypto = cp;\n};\n\n/**\n * Default to the global \"crypto\" variable\n */\nif (typeof(crypto) !== 'undefined') {\n  exports.setCrypto(crypto);\n}\n\n/**\n * Use Node versions of atob, btoa functions outside the browser\n */\nif (typeof atob !== \"function\") {\n  atob = function (str) {\n    return new Buffer(str, 'base64').toString('binary');\n  };\n}\n\nif (typeof btoa !== \"function\") {\n  btoa = function (str) {\n    var buffer;\n    if (str instanceof Buffer) {\n      buffer = str;\n    } else {\n      buffer = new Buffer(str.toString(), 'binary');\n    }\n    return buffer.toString('base64');\n  };\n}\n\n/**\n * Checks if we have all the required APIs.\n *\n * It might make sense to take a Cryptographer and delegate some of the checks\n * to the cryptographer. I however wanted to keep things simple, so I put all\n * the checks here for now.\n *\n * This list is generated manually and needs to be kept up-to-date.\n *\n * Casual testing shows that:\n * - things work in Chrome 40.0.2214.115\n * - things work in Firefox 35.0.1\n * - Safari 7.1.3 doesn't support JWK keys.\n * - Internet Explorer doesn't support Promises.\n *\n * Note: We don't check if the browser supports specific crypto operations.\n *       I.e. it's possible for this function to return true, but encryption or\n *       decryption to subsequently fail because the browser does not support a\n *       given encryption, decryption, key wrapping, key unwrapping or hmac\n *       operation.\n *\n * @return bool\n */\nJose.caniuse = function() {\n  var r = true;\n\n  // Promises/A+ (https://promisesaplus.com/)\n  r = r && (typeof Promise == \"function\");\n  r = r && (typeof Promise.reject == \"function\");\n  r = r && (typeof Promise.prototype.then == \"function\");\n  r = r && (typeof Promise.all == \"function\");\n\n  // Crypto (http://www.w3.org/TR/WebCryptoAPI/)\n  r = r && (typeof Jose.crypto == \"object\");\n  r = r && (typeof Jose.crypto.subtle == \"object\");\n  r = r && (typeof Jose.crypto.getRandomValues == \"function\");\n  r = r && (typeof Jose.crypto.subtle.importKey == \"function\");\n  r = r && (typeof Jose.crypto.subtle.generateKey == \"function\");\n  r = r && (typeof Jose.crypto.subtle.exportKey == \"function\");\n  r = r && (typeof Jose.crypto.subtle.wrapKey == \"function\");\n  r = r && (typeof Jose.crypto.subtle.unwrapKey == \"function\");\n  r = r && (typeof Jose.crypto.subtle.encrypt == \"function\");\n  r = r && (typeof Jose.crypto.subtle.decrypt == \"function\");\n  r = r && (typeof Jose.crypto.subtle.sign == \"function\");\n\n  // ArrayBuffer (http://people.mozilla.org/~jorendorff/es6-draft.html#sec-arraybuffer-constructor)\n  r = r && (typeof ArrayBuffer == \"function\");\n  r = r && (typeof Uint8Array == \"function\" || typeof Uint8Array == \"object\"); // Safari uses \"object\"\n  r = r && (typeof Uint32Array == \"function\" || typeof Uint32Array == \"object\"); // Safari uses \"object\"\n  // skipping Uint32Array.prototype.buffer because https://people.mozilla.org/~jorendorff/es6-draft.html#sec-properties-of-the-%typedarrayprototype%-object\n\n  // JSON (http://www.ecma-international.org/ecma-262/5.1/#sec-15.12.3)\n  r = r && (typeof JSON == \"object\");\n  r = r && (typeof JSON.parse == \"function\");\n  r = r && (typeof JSON.stringify == \"function\");\n\n  // Base64 (http://www.w3.org/TR/html5/webappapis.html#dom-windowbase64-atob)\n  r = r && (typeof atob == \"function\");\n  r = r && (typeof btoa == \"function\");\n\n  // skipping Array functions (map, join, push, length, etc.)\n  // skipping String functions (split, charCodeAt, fromCharCode, replace, etc.)\n  // skipping regexp.test and parseInt\n\n  return r;\n};\n\n/**\n * Feel free to override this function.\n */\nJose.assert = function(expr, msg) {\n  if (!expr) {\n    throw new Error(msg);\n  }\n};\n\nexports.Jose = Jose;\nexports.JoseJWE = JoseJWE;\nexports.JoseJWS = JoseJWS;\n/*-\n * Copyright 2014 Square Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * The WebCryptographer uses http://www.w3.org/TR/WebCryptoAPI/ to perform\n * various crypto operations. In theory, this should help build the library with\n * different underlying crypto APIs. I'm however unclear if we'll run into code\n * duplication or callback vs Promise based API issues.\n */\nvar WebCryptographer = function() {\n  this.setKeyEncryptionAlgorithm(\"RSA-OAEP\");\n  this.setContentEncryptionAlgorithm(\"A256GCM\");\n  this.setContentSignAlgorithm(\"RS256\");\n};\n\nJose.WebCryptographer = WebCryptographer;\n\n/**\n * Overrides the default key encryption algorithm\n * @param alg  string\n */\nWebCryptographer.prototype.setKeyEncryptionAlgorithm = function(alg) {\n  this.key_encryption = getCryptoConfig(alg);\n};\n\nWebCryptographer.prototype.getKeyEncryptionAlgorithm = function() {\n  return this.key_encryption.jwe_name;\n};\n\n/**\n * Overrides the default content encryption algorithm\n * @param alg  string\n */\nWebCryptographer.prototype.setContentEncryptionAlgorithm = function(alg) {\n  this.content_encryption = getCryptoConfig(alg);\n};\n\nWebCryptographer.prototype.getContentEncryptionAlgorithm = function() {\n  return this.content_encryption.jwe_name;\n};\n\n/**\n * Overrides the default content sign algorithm\n * @param alg  string\n */\nWebCryptographer.prototype.setContentSignAlgorithm = function(alg) {\n  this.content_sign = getSignConfig(alg);\n};\n\nWebCryptographer.prototype.getContentSignAlgorithm = function() {\n  return this.content_sign.jwa_name;\n};\n\n/**\n * Generates an IV.\n * This function mainly exists so that it can be mocked for testing purpose.\n *\n * @return Uint8Array with random bytes\n */\nWebCryptographer.prototype.createIV = function() {\n  var iv = new Uint8Array(new Array(this.content_encryption.iv_bytes));\n  return Jose.crypto.getRandomValues(iv);\n};\n\n/**\n * Creates a random content encryption key.\n * This function mainly exists so that it can be mocked for testing purpose.\n *\n * @return Promise<CryptoKey>\n */\nWebCryptographer.prototype.createCek = function() {\n  var hack = getCekWorkaround(this.content_encryption);\n  return Jose.crypto.subtle.generateKey(hack.id, true, hack.enc_op);\n};\n\nWebCryptographer.prototype.wrapCek = function(cek, key) {\n  return Jose.crypto.subtle.wrapKey(\"raw\", cek, key, this.key_encryption.id);\n};\n\nWebCryptographer.prototype.unwrapCek = function(cek, key) {\n  var hack = getCekWorkaround(this.content_encryption);\n  var extractable = (this.content_encryption.specific_cek_bytes > 0);\n  var key_encryption = this.key_encryption.id;\n\n  return Jose.crypto.subtle.unwrapKey(\"raw\", cek, key, key_encryption, hack.id, extractable, hack.dec_op);\n};\n\n/**\n * Returns algorithm and operation needed to create a CEK.\n *\n * In some cases, e.g. A128CBC-HS256, the CEK gets split into two keys. The Web\n * Crypto API does not allow us to generate an arbitrary number of bytes and\n * then create a CryptoKey without any associated algorithm. We therefore piggy\n * back on AES-CBS and HMAC which allows the creation of CEKs of size 16, 32, 64\n * and 128 bytes.\n */\nvar getCekWorkaround = function(alg) {\n  var len = alg.specific_cek_bytes;\n  if (len) {\n    if (len == 16) {\n      return {id: {name: \"AES-CBC\", length: 128}, enc_op: [\"encrypt\"], dec_op: [\"decrypt\"]};\n    } else if (len == 32) {\n      return {id: {name: \"AES-CBC\", length: 256}, enc_op: [\"encrypt\"], dec_op: [\"decrypt\"]};\n    } else if (len == 64) {\n      return {id: {name: \"HMAC\", hash: {name: \"SHA-256\"}}, enc_op: [\"sign\"], dec_op: [\"verify\"]};\n    } else if (len == 128) {\n      return {id: {name: \"HMAC\", hash: {name: \"SHA-384\"}}, enc_op: [\"sign\"], dec_op: [\"verify\"]};\n    } else {\n      Jose.assert(false, \"getCekWorkaround: invalid len\");\n    }\n  }\n  return {id: alg.id, enc_op: [\"encrypt\"], dec_op: [\"decrypt\"]};\n};\n\n/**\n * Encrypts plain_text with cek.\n *\n * @param iv          Uint8Array\n * @param aad         Uint8Array\n * @param cek_promise Promise<CryptoKey>\n * @param plain_text  Uint8Array\n * @return Promise<json>\n */\nWebCryptographer.prototype.encrypt = function(iv, aad, cek_promise, plain_text) {\n  var config = this.content_encryption;\n  if (iv.length != config.iv_bytes) {\n    return Promise.reject(Error(\"invalid IV length\"));\n  }\n  if (config.auth.aead) {\n    var tag_bytes = config.auth.tag_bytes;\n\n    var enc = {\n      name: config.id.name,\n      iv: iv,\n      additionalData: aad,\n      tagLength: tag_bytes * 8\n    };\n\n    return cek_promise.then(function(cek) {\n      return Jose.crypto.subtle.encrypt(enc, cek, plain_text).then(function(cipher_text) {\n        var offset = cipher_text.byteLength - tag_bytes;\n        return {\n          cipher: cipher_text.slice(0, offset),\n          tag: cipher_text.slice(offset)\n        };\n      });\n    });\n  } else {\n    var keys = splitKey(config, cek_promise, [\"encrypt\"]);\n    var mac_key_promise = keys[0];\n    var enc_key_promise = keys[1];\n\n    // Encrypt the plain text\n    var cipher_text_promise = enc_key_promise.then(function(enc_key) {\n      var enc = {\n        name: config.id.name,\n        iv: iv\n      };\n      return Jose.crypto.subtle.encrypt(enc, enc_key, plain_text);\n    });\n\n    // compute MAC\n    var mac_promise = cipher_text_promise.then(function(cipher_text) {\n      return truncatedMac(\n        config,\n        mac_key_promise,\n        aad,\n        iv,\n        cipher_text);\n    });\n\n    return Promise.all([cipher_text_promise, mac_promise]).then(function(all) {\n      var cipher_text = all[0];\n      var mac = all[1];\n      return {\n        cipher: cipher_text,\n        tag: mac\n      };\n    });\n  }\n};\n\n/**\n * Decrypts cipher_text with cek. Validates the tag.\n *\n * @param cek_promise    Promise<CryptoKey>\n * @param aad protected header\n * @param iv IV\n * @param cipher_text text to be decrypted\n * @param tag to be verified\n * @return Promise<string>\n */\nWebCryptographer.prototype.decrypt = function(cek_promise, aad, iv, cipher_text, tag) {\n  /**\n   * Compares two Uint8Arrays in constant time.\n   *\n   * @return Promise<void>\n   */\n  var compare = function(config, mac_key_promise, arr1, arr2) {\n    Jose.assert(arr1 instanceof Uint8Array, \"compare: invalid input\");\n    Jose.assert(arr2 instanceof Uint8Array, \"compare: invalid input\");\n\n    return mac_key_promise.then(function(mac_key) {\n      var hash1 = Jose.crypto.subtle.sign(config.auth.id, mac_key, arr1);\n      var hash2 = Jose.crypto.subtle.sign(config.auth.id, mac_key, arr2);\n      return Promise.all([hash1, hash2]).then(function(all) {\n        var hash1 = new Uint8Array(all[0]);\n        var hash2 = new Uint8Array(all[1]);\n        if (hash1.length != hash2.length) {\n          throw new Error(\"compare failed\");\n        }\n        for (var i = 0; i < hash1.length; i++) {\n          if (hash1[i] != hash2[i]) {\n            throw new Error(\"compare failed\");\n          }\n        }\n        return Promise.resolve(null);\n      });\n    });\n  };\n\n  if (iv.length != this.content_encryption.iv_bytes) {\n    return Promise.reject(Error(\"decryptCiphertext: invalid IV\"));\n  }\n\n  var config = this.content_encryption;\n  if (config.auth.aead) {\n    var dec = {\n      name: config.id.name,\n      iv: iv,\n      additionalData: aad,\n      tagLength: config.auth.tag_bytes * 8\n    };\n\n    return cek_promise.then(function(cek) {\n      var buf = Utils.arrayBufferConcat(cipher_text, tag);\n      return Jose.crypto.subtle.decrypt(dec, cek, buf);\n    });\n  } else {\n    var keys = splitKey(config, cek_promise, [\"decrypt\"]);\n    var mac_key_promise = keys[0];\n    var enc_key_promise = keys[1];\n\n    // Validate the MAC\n    var mac_promise = truncatedMac(\n      config,\n      mac_key_promise,\n      aad,\n      iv,\n      cipher_text);\n\n    return Promise.all([enc_key_promise, mac_promise]).then(function(all) {\n      var enc_key = all[0];\n      var mac = all[1];\n\n      return compare(config, mac_key_promise, new Uint8Array(mac), tag).then(function() {\n        var dec = {\n          name: config.id.name,\n          iv: iv\n        };\n        return Jose.crypto.subtle.decrypt(dec, enc_key, cipher_text);\n      }).catch(function(err) {\n        return Promise.reject(Error(\"decryptCiphertext: MAC failed.\"));\n      });\n    });\n  }\n};\n\n/**\n * Signs plain_text.\n *\n * @param aad         json\n * @param payload     String or json\n * @param key_promise Promise<CryptoKey>\n * @return Promise<ArrayBuffer>\n */\nWebCryptographer.prototype.sign = function(aad, payload, key_promise) {\n  var config = this.content_sign;\n\n  if (aad.alg) {\n    config = getSignConfig(aad.alg);\n  }\n\n  // Encrypt the plain text\n  return key_promise.then(function(key) {\n    return Jose.crypto.subtle.sign(config.id, key, Utils.arrayFromString(Utils.Base64Url.encode(JSON.stringify(aad)) + '.' + Utils.Base64Url.encodeArray(payload)));\n  });\n};\n\n/**\n * Verify JWS.\n *\n * @param payload     Base64Url encoded payload\n * @param aad         String Base64Url encoded JSON representation of the protected JWS header\n * @param signature   Uint8Array containing the signature\n * @param key_promise Promise<CryptoKey>\n * @param key_id      value of the kid JoseHeader, it'll be passed as part of the result to the returned promise\n * @return Promise<json>\n */\nWebCryptographer.prototype.verify = function(aad, payload, signature, key_promise, key_id) {\n  var config = this.content_sign;\n\n  return key_promise.then(function(key) {\n    config = getSignConfig(getJwaNameForSignKey(key));\n    return Jose.crypto.subtle.verify(config.id, key, signature, Utils.arrayFromString(aad + \".\" + payload)).then(function(res) {\n      return {kid: key_id, verified: res};\n    });\n  });\n};\n\nJose.WebCryptographer.keyId = function(rsa_key) {\n  return Utils.sha256(rsa_key.n + \"+\" + rsa_key.d);\n};\n\n/**\n * Splits a CEK into two pieces: a MAC key and an ENC key.\n *\n * This code is structured around the fact that the crypto API does not provide\n * a way to validate truncated MACs. The MAC key is therefore always imported to\n * sign data.\n *\n * @param config (used for key lengths & algorithms)\n * @param cek_promise Promise<CryptoKey>  CEK key to split\n * @param purpose Array<String> usages of the imported key\n * @return [Promise<mac key>, Promise<enc key>]\n */\nvar splitKey = function(config, cek_promise, purpose) {\n  // We need to split the CEK key into a MAC and ENC keys\n  var cek_bytes_promise = cek_promise.then(function(cek) {\n    return Jose.crypto.subtle.exportKey(\"raw\", cek);\n  });\n  var mac_key_promise = cek_bytes_promise.then(function(cek_bytes) {\n    if (cek_bytes.byteLength * 8 != config.id.length + config.auth.key_bytes * 8) {\n      return Promise.reject(Error(\"encryptPlainText: incorrect cek length\"));\n    }\n    var bytes = cek_bytes.slice(0, config.auth.key_bytes);\n    return Jose.crypto.subtle.importKey(\"raw\", bytes, config.auth.id, false, [\"sign\"]);\n  });\n  var enc_key_promise = cek_bytes_promise.then(function(cek_bytes) {\n    if (cek_bytes.byteLength * 8 != config.id.length + config.auth.key_bytes * 8) {\n      return Promise.reject(Error(\"encryptPlainText: incorrect cek length\"));\n    }\n    var bytes = cek_bytes.slice(config.auth.key_bytes);\n    return Jose.crypto.subtle.importKey(\"raw\", bytes, config.id, false, purpose);\n  });\n  return [mac_key_promise, enc_key_promise];\n};\n\n/**\n * Converts the Jose web algorithms into data which is\n * useful for the Web Crypto API.\n *\n * length = in bits\n * bytes = in bytes\n */\nvar getCryptoConfig = function(alg) {\n  switch (alg) {\n    // Key encryption\n    case \"RSA-OAEP\":\n      return {\n        jwe_name: \"RSA-OAEP\",\n        id: {name: \"RSA-OAEP\", hash: {name: \"SHA-1\"}}\n      };\n    case \"RSA-OAEP-256\":\n      return {\n        jwe_name: \"RSA-OAEP-256\",\n        id: {name: \"RSA-OAEP\", hash: {name: \"SHA-256\"}}\n      };\n    case \"A128KW\":\n      return {\n        jwe_name: \"A128KW\",\n        id: {name: \"AES-KW\", length: 128}\n      };\n    case \"A256KW\":\n      return {\n        jwe_name: \"A256KW\",\n        id: {name: \"AES-KW\", length: 256}\n      };\n    case \"dir\":\n      return {\n        jwe_name: \"dir\"\n      };\n\n    // Content encryption\n    case \"A128CBC-HS256\":\n      return {\n        jwe_name: \"A128CBC-HS256\",\n        id: {name: \"AES-CBC\", length: 128},\n        iv_bytes: 16,\n        specific_cek_bytes: 32,\n        auth: {\n          key_bytes: 16,\n          id: {name: \"HMAC\", hash: {name: \"SHA-256\"}},\n          truncated_bytes: 16\n        }\n      };\n    case \"A256CBC-HS512\":\n      return {\n        jwe_name: \"A256CBC-HS512\",\n        id: {name: \"AES-CBC\", length: 256},\n        iv_bytes: 16,\n        specific_cek_bytes: 64,\n        auth: {\n          key_bytes: 32,\n          id: {name: \"HMAC\", hash: {name: \"SHA-512\"}},\n          truncated_bytes: 32\n        }\n      };\n    case \"A128GCM\":\n      return {\n        jwe_name: \"A128GCM\",\n        id: {name: \"AES-GCM\", length: 128},\n        iv_bytes: 12,\n        auth: {\n          aead: true,\n          tag_bytes: 16\n        }\n      };\n    case \"A256GCM\":\n      return {\n        jwe_name: \"A256GCM\",\n        id: {name: \"AES-GCM\", length: 256},\n        iv_bytes: 12,\n        auth: {\n          aead: true,\n          tag_bytes: 16\n        }\n      };\n    default:\n      throw Error(\"unsupported algorithm: \" + alg);\n  }\n};\n\n/**\n * Computes a truncated MAC.\n *\n * @param config              configuration\n * @param mac_key_promise     Promise<CryptoKey>  mac key\n * @param aad                 Uint8Array\n * @param iv                  Uint8Array\n * @param cipher_text         Uint8Array\n * @return Promise<buffer>    truncated MAC\n */\nvar truncatedMac = function(config, mac_key_promise, aad, iv, cipher_text) {\n  return mac_key_promise.then(function(mac_key) {\n    var al = new Uint8Array(Utils.arrayFromInt32(aad.length * 8));\n    var al_full = new Uint8Array(8);\n    al_full.set(al, 4);\n    var buf = Utils.arrayBufferConcat(aad, iv, cipher_text, al_full);\n    return Jose.crypto.subtle.sign(config.auth.id, mac_key, buf).then(function(bytes) {\n      return bytes.slice(0, config.auth.truncated_bytes);\n    });\n  });\n};\n\n/**\n * Converts the Jose web algorithms into data which is\n * useful for the Web Crypto API.\n */\nvar getSignConfig = function(alg) {\n\n  switch (alg) {\n    case \"RS256\":\n      return {\n        jwa_name: \"RS256\",\n        id: {name: \"RSASSA-PKCS1-v1_5\", hash: {name: \"SHA-256\"}}\n      };\n    case \"RS384\":\n      return {\n        jwa_name: \"RS384\",\n        id: {name: \"RSASSA-PKCS1-v1_5\", hash: {name: \"SHA-384\"}}\n      };\n    case \"RS512\":\n      return {\n        jwa_name: \"RS512\",\n        id: {name: \"RSASSA-PKCS1-v1_5\", hash: {name: \"SHA-512\"}}\n      };\n    case \"PS256\":\n      return {\n        jwa_name: \"PS256\",\n        id: {name: \"RSA-PSS\", hash: {name: \"SHA-256\"}, saltLength: 20}\n      };\n    case \"PS384\":\n      return {\n        jwa_name: \"PS384\",\n        id: {name: \"RSA-PSS\", hash: {name: \"SHA-384\"}, saltLength: 20}\n      };\n    case \"PS512\":\n      return {\n        jwa_name: \"PS512\",\n        id: {name: \"RSA-PSS\", hash: {name: \"SHA-512\"}, saltLength: 20}\n      };\n    case \"HS256\":\n      return {\n        jwa_name: \"HS256\",\n        id: {name: \"HMAC\", hash: {name: \"SHA-256\"}}\n      };\n    case \"HS384\":\n      return {\n        jwa_name: \"HS384\",\n        id: {name: \"HMAC\", hash: {name: \"SHA-384\"}}\n      };\n    case \"HS512\":\n      return {\n        jwa_name: \"HS512\",\n        id: {name: \"HMAC\", hash: {name: \"SHA-512\"}}\n      };\n    case \"ES256\":\n      return {\n        jwa_name: \"ES256\",\n        id: {name: \"ECDSA\", hash: {name: \"SHA-256\"}}\n      };\n    case \"ES384\":\n      return {\n        jwa_name: \"ES384\",\n        id: {name: \"ECDSA\", hash: {name: \"SHA-384\"}}\n      };\n    case \"ES512\":\n      return {\n        jwa_name: \"ES512\",\n        id: {name: \"ECDSA\", hash: {name: \"SHA-512\"}}\n      };\n    default:\n      throw Error(\"unsupported algorithm: \" + alg);\n  }\n};\n\n/**\n * Returns JWA name for a given CryptoKey\n * @param key CryptoKey\n */\nvar getJwaNameForSignKey = function(key) {\n\n  var rv = \"\",\n    sign_algo = key.algorithm.name,\n    hash_algo = key.algorithm.hash.name;\n\n  if(sign_algo == \"RSASSA-PKCS1-v1_5\") {\n    rv = \"R\";\n  } else if(sign_algo == \"RSA-PSS\") {\n    rv = \"P\";\n  } else {\n    throw new Error(\"unsupported sign/verify algorithm \" + sign_algo);\n  }\n\n  if(hash_algo.indexOf(\"SHA-\") === 0) {\n    rv += \"S\";\n  } else {\n    throw new Error(\"unsupported hash algorithm \" + sign_algo);\n  }\n\n  rv += hash_algo.substring(4);\n\n  return rv;\n};\n\n/**\n * Derives key usage from algorithm's name\n *\n * @param alg String algorithm name\n * @returns {*}\n */\nvar getKeyUsageByAlg = function(alg) {\n\n  switch (alg) {\n    // signature\n    case \"RS256\":\n    case \"RS384\":\n    case \"RS512\":\n    case \"PS256\":\n    case \"PS384\":\n    case \"PS512\":\n    case \"HS256\":\n    case \"HS384\":\n    case \"HS512\":\n    case \"ES256\":\n    case \"ES384\":\n    case \"ES512\":\n      return {\n        publicKey: \"verify\",\n        privateKey: \"sign\"\n      };\n    // key encryption\n    case \"RSA-OAEP\":\n    case \"RSA-OAEP-256\":\n    case \"A128KW\":\n    case \"A256KW\":\n      return {\n        publicKey: \"wrapKey\",\n        privateKey: \"unwrapKey\"\n      };\n    default:\n      throw Error(\"unsupported algorithm: \" + alg);\n  }\n};\n\n/*-\n * Copyright 2014 Square Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nJose.Utils = {};\nvar Utils = {};\n\n/**\n * Converts the output from `openssl x509 -text` or `openssl rsa -text` into a\n * CryptoKey which can then be used with RSA-OAEP. Also accepts (and validates)\n * JWK keys.\n *\n * TODO: this code probably belongs in the webcryptographer.\n *\n * @param rsa_key  public RSA key in json format. Parameters can be base64\n *                 encoded, strings or number (for 'e').\n * @param alg      String, name of the algorithm\n * @return Promise<CryptoKey>\n */\nJose.Utils.importRsaPublicKey = function(rsa_key, alg) {\n  var jwk;\n  var config;\n  var usage = getKeyUsageByAlg(alg);\n\n  if (usage.publicKey == \"wrapKey\") {\n    if (!rsa_key.alg) {\n      rsa_key.alg = alg;\n    }\n    jwk = Utils.convertRsaKey(rsa_key, [\"n\", \"e\"]);\n    config = getCryptoConfig(alg);\n  } else {\n    var rk = {};\n    for (var name in rsa_key) {\n      if (rsa_key.hasOwnProperty(name)) {\n        rk[name] = rsa_key[name];\n      }\n    }\n\n    if (!rk.alg && alg) {\n      rk.alg = alg;\n    }\n    config = getSignConfig(rk.alg);\n    jwk = Utils.convertRsaKey(rk, [\"n\", \"e\"]);\n    jwk.ext = true;\n  }\n  return Jose.crypto.subtle.importKey(\"jwk\", jwk, config.id, false, [usage.publicKey]);\n};\n\n/**\n * Converts the output from `openssl x509 -text` or `openssl rsa -text` into a\n * CryptoKey which can then be used with RSA-OAEP and RSA. Also accepts (and validates)\n * JWK keys.\n *\n * TODO: this code probably belongs in the webcryptographer.\n *\n * @param rsa_key  private RSA key in json format. Parameters can be base64\n *                 encoded, strings or number (for 'e').\n * @param alg      String, name of the algorithm\n * @return Promise<CryptoKey>\n */\nJose.Utils.importRsaPrivateKey = function(rsa_key, alg) {\n  var jwk;\n  var config;\n  var usage = getKeyUsageByAlg(alg);\n\n  if (usage.privateKey == \"unwrapKey\") {\n    if (!rsa_key.alg) {\n      rsa_key.alg = alg;\n    }\n    jwk = Utils.convertRsaKey(rsa_key, [\"n\", \"e\", \"d\", \"p\", \"q\", \"dp\", \"dq\", \"qi\"]);\n    config = getCryptoConfig(\"RSA-OAEP\");\n  } else {\n    var rk = {};\n    for (var name in rsa_key) {\n      if (rsa_key.hasOwnProperty(name)) {\n        rk[name] = rsa_key[name];\n      }\n    }\n    config = getSignConfig(alg);\n    if (!rk.alg && alg) {\n      rk.alg = alg;\n    }\n    jwk = Utils.convertRsaKey(rk, [\"n\", \"e\", \"d\", \"p\", \"q\", \"dp\", \"dq\", \"qi\"]);\n    jwk.ext = true;\n  }\n  return Jose.crypto.subtle.importKey(\"jwk\", jwk, config.id, false, [usage.privateKey]);\n};\n\n// Private functions\n\nUtils.isString = function(str) {\n  return ((typeof(str) == \"string\") || (str instanceof String));\n};\n\n/**\n * Takes an arrayish (an array, ArrayBuffer or Uint8Array)\n * and returns an array or a Uint8Array.\n *\n * @param arr  arrayish\n * @return array or Uint8Array\n */\nUtils.arrayish = function(arr) {\n  if (arr instanceof Array) {\n    return arr;\n  }\n  if (arr instanceof Uint8Array) {\n    return arr;\n  }\n  if (arr instanceof ArrayBuffer) {\n    return new Uint8Array(arr);\n  }\n  Jose.assert(false, \"arrayish: invalid input\");\n};\n\n/**\n * Checks if an RSA key contains all the expected parameters. Also checks their\n * types. Converts hex encoded strings (or numbers) to base64.\n *\n * @param rsa_key     RSA key in json format. Parameters can be base64 encoded,\n *                    strings or number (for 'e').\n * @param parameters  array<string>\n * @return json\n */\nUtils.convertRsaKey = function(rsa_key, parameters) {\n  var r = {};\n  var alg;\n\n  // Check that we have all the parameters\n  var missing = [];\n  parameters.map(function(p){if (typeof(rsa_key[p]) == \"undefined\") { missing.push(p); }});\n\n  if (missing.length > 0) {\n    Jose.assert(false, \"convertRsaKey: Was expecting \" + missing.join());\n  }\n\n  // kty is either missing or is set to \"RSA\"\n  if (typeof(rsa_key.kty) != \"undefined\") {\n    Jose.assert(rsa_key.kty == \"RSA\", \"convertRsaKey: expecting rsa_key['kty'] to be 'RSA'\");\n  }\n  r.kty = \"RSA\";\n\n  try {\n    getSignConfig(rsa_key.alg);\n    alg = rsa_key.alg;\n  } catch (err) {\n    try {\n      getCryptoConfig(rsa_key.alg);\n      alg = rsa_key.alg;\n    } catch (er) {\n      Jose.assert(alg, \"convertRsaKey: expecting rsa_key['alg'] to have a valid value\");\n    }\n  }\n  r.alg = alg;\n\n  // note: we punt on checking key_ops\n\n  var intFromHex = function(e) {\n    return parseInt(e, 16);\n  };\n  for (var i = 0; i < parameters.length; i++) {\n    var p = parameters[i];\n    var v = rsa_key[p];\n    if (p == \"e\") {\n      if (typeof(v) == \"number\") {\n        v = Utils.Base64Url.encodeArray(Utils.stripLeadingZeros(Utils.arrayFromInt32(v)));\n      }\n    } else if (/^([0-9a-fA-F]{2}:)+[0-9a-fA-F]{2}$/.test(v)) {\n      var arr = v.split(\":\").map(intFromHex);\n      v = Utils.Base64Url.encodeArray(Utils.stripLeadingZeros(arr));\n    } else if (typeof(v) != \"string\") {\n      Jose.assert(false, \"convertRsaKey: expecting rsa_key['\" + p + \"'] to be a string\");\n    }\n    r[p] = v;\n  }\n\n  return r;\n};\n\n/**\n * Converts a string into an array of ascii codes.\n *\n * @param str  ascii string\n * @return Uint8Array\n */\nUtils.arrayFromString = function(str) {\n  Jose.assert(Utils.isString(str), \"arrayFromString: invalid input\");\n  var arr = str.split('').map(function(c) {\n    return c.charCodeAt(0);\n  });\n  return new Uint8Array(arr);\n};\n\n/**\n * Converts a string into an array of utf-8 codes.\n *\n* @param str  utf-8 string\n * @return Uint8Array\n */\nUtils.arrayFromUtf8String = function(str) {\n  Jose.assert(Utils.isString(str), \"arrayFromUtf8String: invalid input\");\n  // javascript represents strings as utf-16. Jose imposes the use of\n  // utf-8, so we need to convert from one representation to the other.\n  str = unescape(encodeURIComponent(str));\n  return Utils.arrayFromString(str);\n};\n\n/**\n * Converts an array of ascii bytes into a string.\n *\n * @param arr  arrayish\n * @return ascii string\n */\nUtils.stringFromArray = function(arr) {\n  arr = Utils.arrayish(arr);\n  var r = '';\n  for (var i = 0; i < arr.length; i++) {\n    r += String.fromCharCode(arr[i]);\n  }\n\n  return r;\n};\n\n/**\n * Converts an array of ascii bytes into a string.\n *\n * @param arr  ArrayBuffer\n * @return ascii string\n */\nUtils.utf8StringFromArray = function(arr) {\n  Jose.assert(arr instanceof ArrayBuffer, \"utf8StringFromArray: invalid input\");\n\n  // javascript represents strings as utf-16. Jose imposes the use of\n  // utf-8, so we need to convert from one representation to the other.\n  var r = Utils.stringFromArray(arr);\n  return decodeURIComponent(escape(r));\n};\n\n/**\n * Strips leading zero in an array.\n *\n * @param arr  arrayish\n * @return array\n */\nUtils.stripLeadingZeros = function(arr) {\n  if (arr instanceof ArrayBuffer) {\n    arr = new Uint8Array(arr);\n  }\n  var is_leading_zero = true;\n  var r = [];\n  for (var i = 0; i < arr.length; i++) {\n    if (is_leading_zero && arr[i] === 0) {\n      continue;\n    }\n    is_leading_zero = false;\n    r.push(arr[i]);\n  }\n  return r;\n};\n\n/**\n * Converts a number into an array of 4 bytes (big endian).\n *\n * @param i  number\n * @return ArrayBuffer\n */\nUtils.arrayFromInt32 = function(i) {\n  Jose.assert(typeof(i) == \"number\", \"arrayFromInt32: invalid input\");\n  Jose.assert(i == i | 0, \"arrayFromInt32: out of range\");\n\n  var buf = new Uint8Array(new Uint32Array([i]).buffer);\n  var r = new Uint8Array(4);\n  for (var j = 0; j < 4; j++) {\n    r[j] = buf[3 - j];\n  }\n  return r.buffer;\n};\n\n/**\n * Concatenates arrayishes.\n *\n * @param arguments two or more arrayishes\n * @return Uint8Array\n */\nUtils.arrayBufferConcat = function(/* ... */) {\n  // Compute total size\n  var args = [];\n  var total = 0;\n  for (var i = 0; i < arguments.length; i++) {\n    args.push(Utils.arrayish(arguments[i]));\n    total += args[i].length;\n  }\n  var r = new Uint8Array(total);\n  var offset = 0;\n  for (i = 0; i < arguments.length; i++) {\n    for (var j = 0; j < args[i].length; j++) {\n      r[offset++] = args[i][j];\n    }\n  }\n  Jose.assert(offset == total, \"arrayBufferConcat: unexpected offset\");\n  return r;\n};\n\nUtils.Base64Url = {};\n\n/**\n * Base64Url encodes a string (no trailing '=')\n *\n * @param str  string\n * @return string\n */\nUtils.Base64Url.encode = function(str) {\n  Jose.assert(Utils.isString(str), \"Base64Url.encode: invalid input\");\n  return btoa(str)\n    .replace(/\\+/g, \"-\")\n    .replace(/\\//g, \"_\")\n    .replace(/=+$/, \"\");\n};\n\n/**\n * Base64Url encodes an array\n *\n * @param arr array or ArrayBuffer\n * @return string\n */\nUtils.Base64Url.encodeArray = function(arr) {\n  return Utils.Base64Url.encode(Utils.stringFromArray(arr));\n};\n\n/**\n * Base64Url decodes a string\n *\n * @param str  string\n * @return string\n */\nUtils.Base64Url.decode = function(str) {\n  Jose.assert(Utils.isString(str), \"Base64Url.decode: invalid input\");\n  // atob is nice and ignores missing '='\n  return atob(str.replace(/-/g, \"+\").replace(/_/g, \"/\"));\n};\n\nUtils.Base64Url.decodeArray = function(str) {\n  Jose.assert(Utils.isString(str), \"Base64Url.decodeArray: invalid input\");\n  return Utils.arrayFromString(Utils.Base64Url.decode(str));\n};\n\nUtils.sha256 = function(str) {\n  // Browser docs indicate the first parameter to crypto.subtle.digest to be a\n  // DOMString. This was initially implemented as an object and continues to be\n  // supported, so we favor the older form for backwards compatibility.\n  return Jose.crypto.subtle.digest({name: \"SHA-256\"}, Utils.arrayFromString(str)).then(function(hash) {\n    return Utils.Base64Url.encodeArray(hash);\n  });\n};\n\nUtils.isCryptoKey = function(rsa_key) {\n  // Some browsers don't expose the CryptoKey as an object, so we need to check\n  // the constructor's name.\n  if (rsa_key.constructor.name == 'CryptoKey') {\n    return true;\n  }\n\n  // In the presence of minifiers, relying on class names can be problematic,\n  // so let's also allow objects that have an 'algorithm' property.\n  if (rsa_key.hasOwnProperty('algorithm')) {\n    return true;\n  }\n\n  return false;\n};\n\n/*-\n * Copyright 2014 Square Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Handles encryption.\n *\n * @param cryptographer  an instance of WebCryptographer (or equivalent).\n * @param key_promise    Promise<CryptoKey>, either RSA or shared key\n */\nJoseJWE.Encrypter = function(cryptographer, key_promise) {\n  this.cryptographer = cryptographer;\n  this.key_promise = key_promise;\n  this.userHeaders = {};\n};\n\n/**\n * Adds a key/value pair which will be included in the header.\n *\n * The data lives in plaintext (an attacker can read the header) but is tamper\n * proof (an attacker cannot modify the header).\n *\n * Note: some headers have semantic implications. E.g. if you set the \"zip\"\n * header, you are responsible for properly compressing plain_text before\n * calling encrypt().\n *\n * @param k  String\n * @param v  String\n */\nJoseJWE.Encrypter.prototype.addHeader = function(k, v) {\n  this.userHeaders[k] = v;\n};\n\n/**\n * Performs encryption.\n *\n * @param plain_text  utf-8 string\n * @return Promise<String>\n */\nJoseJWE.Encrypter.prototype.encrypt = function(plain_text) {\n  /**\n   * Encrypts plain_text with CEK.\n   *\n   * @param cek_promise  Promise<CryptoKey>\n   * @param plain_text   string\n   * @return Promise<json>\n   */\n  var encryptPlainText = function(cek_promise, plain_text) {\n    // Create header\n    var headers = {};\n    for (var i in this.userHeaders) {\n      headers[i] = this.userHeaders[i];\n    }\n    headers.alg = this.cryptographer.getKeyEncryptionAlgorithm();\n    headers.enc = this.cryptographer.getContentEncryptionAlgorithm();\n    var jwe_protected_header = Utils.Base64Url.encode(JSON.stringify(headers));\n\n    // Create the IV\n    var iv = this.cryptographer.createIV();\n\n    // Create the AAD\n    var aad = Utils.arrayFromString(jwe_protected_header);\n    plain_text = Utils.arrayFromUtf8String(plain_text);\n\n    return this.cryptographer.encrypt(iv, aad, cek_promise, plain_text).then(function(r) {\n      r.header = jwe_protected_header;\n      r.iv = iv;\n      return r;\n    });\n  };\n\n  var cek_promise, encrypted_cek;\n\n  if (this.cryptographer.getKeyEncryptionAlgorithm() == \"dir\") {\n    // with direct encryption, this.key_promise provides the cek\n    // and encrypted_cek is empty\n    cek_promise = Promise.resolve(this.key_promise);\n    encrypted_cek = [];\n  } else {\n    // Create a CEK key\n    cek_promise = this.cryptographer.createCek();\n\n    // Key & Cek allows us to create the encrypted_cek\n    encrypted_cek = Promise.all([this.key_promise, cek_promise]).then(function (all) {\n      var key = all[0];\n      var cek = all[1];\n      return this.cryptographer.wrapCek(cek, key);\n    }.bind(this));\n  }\n\n  // Cek allows us to encrypy the plain text\n  var enc_promise = encryptPlainText.bind(this, cek_promise, plain_text)();\n\n  // Once we have all the promises, we can base64 encode all the pieces.\n  return Promise.all([encrypted_cek, enc_promise]).then(function(all) {\n    var encrypted_cek = all[0];\n    var data = all[1];\n    return data.header + \".\" +\n      Utils.Base64Url.encodeArray(encrypted_cek) + \".\" +\n      Utils.Base64Url.encodeArray(data.iv) + \".\" +\n      Utils.Base64Url.encodeArray(data.cipher) + \".\" +\n      Utils.Base64Url.encodeArray(data.tag);\n  });\n};\n\n/*-\n * Copyright 2014 Square Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Handles decryption.\n *\n * @param cryptographer  an instance of WebCryptographer (or equivalent). Keep\n *                       in mind that decryption mutates the cryptographer.\n * @param key_promise    Promise<CryptoKey>, either RSA or shared key\n */\nJoseJWE.Decrypter = function(cryptographer, key_promise) {\n  this.cryptographer = cryptographer;\n  this.key_promise = key_promise;\n  this.headers = {};\n};\n\nJoseJWE.Decrypter.prototype.getHeaders = function() {\n  return this.headers;\n};\n\n/**\n * Performs decryption.\n *\n * @param cipher_text  String\n * @return Promise<String>\n */\nJoseJWE.Decrypter.prototype.decrypt = function(cipher_text) {\n  // Split cipher_text in 5 parts\n  var parts = cipher_text.split(\".\");\n  if (parts.length != 5) {\n    return Promise.reject(Error(\"decrypt: invalid input\"));\n  }\n\n  // part 1: header\n  this.headers = JSON.parse(Utils.Base64Url.decode(parts[0]));\n  if (!this.headers.alg) {\n    return Promise.reject(Error(\"decrypt: missing alg\"));\n  }\n  if (!this.headers.enc) {\n    return Promise.reject(Error(\"decrypt: missing enc\"));\n  }\n  this.cryptographer.setKeyEncryptionAlgorithm(this.headers.alg);\n  this.cryptographer.setContentEncryptionAlgorithm(this.headers.enc);\n\n  if (this.headers.crit) {\n    // We don't support the crit header\n    return Promise.reject(Error(\"decrypt: crit is not supported\"));\n  }\n\n  var cek_promise;\n\n  if (this.headers.alg == \"dir\") {\n    // with direct mode, we already have the cek\n    cek_promise = Promise.resolve(this.key_promise);\n  } else {\n    // part 2: decrypt the CEK\n    // In some modes (e.g. RSA-PKCS1v1.5), you must take precautions to prevent\n    // chosen-ciphertext attacks as described in RFC 3218, \"Preventing\n    // the Million Message Attack on Cryptographic Message Syntax\". We currently\n    // only support RSA-OAEP, so we don't generate a key if unwrapping fails.\n    var encrypted_cek = Utils.Base64Url.decodeArray(parts[1]);\n    cek_promise = this.key_promise.then(function (key) {\n      return this.cryptographer.unwrapCek(encrypted_cek, key);\n    }.bind(this));\n  }\n\n  // part 3: decrypt the cipher text\n  var plain_text_promise = this.cryptographer.decrypt(\n    cek_promise,\n    Utils.arrayFromString(parts[0]),\n    Utils.Base64Url.decodeArray(parts[2]),\n    Utils.Base64Url.decodeArray(parts[3]),\n    Utils.Base64Url.decodeArray(parts[4]));\n\n  return plain_text_promise.then(Utils.utf8StringFromArray);\n};\n\n/*-\n * Copyright 2015 Peculiar Ventures\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Handles decryption.\n *\n * @param cryptographer  an instance of WebCryptographer (or equivalent). Keep\n *                       in mind that decryption mutates the cryptographer.\n *\n * @author Patrizio Bruno <patrizio@desertconsulting.net>\n */\nJoseJWS.Signer = function(cryptographer) {\n  this.cryptographer = cryptographer;\n\n  this.key_promises = {};\n  this.waiting_kid = 0;\n  this.headers = {};\n  this.signer_aads = {};\n  this.signer_headers = {};\n};\n\n/**\n * Adds a signer to JoseJWS instance. It'll be the on of the signers of the resulting JWS.\n *\n * @param rsa_key        private RSA key in json format, Parameters can be base64\n *                       encoded, strings or number (for 'e'). Or CryptoKey\n * @param key_id         a string identifying the rsa_key. OPTIONAL\n * @param aad            Object protected header\n * @param header         Object unprotected header\n */\nJoseJWS.Signer.prototype.addSigner = function(rsa_key, key_id, aad, header) {\n  var that = this;\n  var key_promise;\n  if (Utils.isCryptoKey(rsa_key)) {\n    key_promise = new Promise(function(resolve) {\n      resolve(rsa_key);\n    });\n  } else {\n    var alg;\n    if (aad && aad.alg) {\n      alg = aad.alg;\n    } else {\n      alg = that.cryptographer.getContentSignAlgorithm();\n    }\n    key_promise = Jose.Utils.importRsaPrivateKey(rsa_key, alg, \"sign\");\n  }\n\n  var kid_promise;\n  if (key_id) {\n    kid_promise = new Promise(function(resolve) {\n      resolve(key_id);\n    });\n  } else if (Utils.isCryptoKey(rsa_key)) {\n    throw new Error(\"key_id is a mandatory argument when the key is a CryptoKey\");\n  } else {\n    kid_promise = Jose.WebCryptographer.keyId(rsa_key);\n  }\n\n  that.waiting_kid++;\n\n  return kid_promise.then(function(kid) {\n    that.key_promises[kid] = key_promise;\n    that.waiting_kid--;\n    if (aad) {\n      that.signer_aads[kid] = aad;\n    }\n    if (header) {\n      that.signer_headers[kid] = header;\n    }\n    return kid;\n  });\n};\n\n/**\n * Adds a signature to a JWS object\n * @param jws JWS Object to be signed or its representation\n * @param aad     Object protected header\n * @param header  Object unprotected header\n * @return Promise<String>\n */\nJoseJWS.Signer.prototype.addSignature = function(jws, aad, header) {\n  if (Utils.isString(jws)) {\n    jws = JSON.parse(jws);\n  }\n\n  if (jws.payload && Utils.isString(jws.payload) &&\n    jws.protected && Utils.isString(jws.protected) &&\n    jws.header && jws.header instanceof Object &&\n    jws.signature && Utils.isString(jws.signature)) {\n    return this.sign(JWS.fromObject(jws), aad, header);\n  } else {\n    throw new Error(\"JWS is not a valid JWS object\");\n  }\n};\n\n/**\n * Computes signature.\n *\n * @param payload JWS Object or utf-8 string to be signed\n * @param aad     Object protected header\n * @param header  Object unprotected header\n * @return Promise<JWS>\n */\nJoseJWS.Signer.prototype.sign = function(payload, aad, header) {\n\n  var that = this;\n  var kids = [];\n\n  if (Object.keys(that.key_promises).length === 0) {\n    throw new Error(\"No signers defined. At least one is required to sign the JWS.\");\n  }\n\n  if (that.waiting_kid) {\n    throw new Error(\"still generating key IDs\");\n  }\n\n  function sign (message, protectedHeader, unprotectedHeader, rsa_key_promise, kid) {\n    var toBeSigned;\n\n    if (!protectedHeader) {\n      protectedHeader = {};\n    }\n\n    if (!protectedHeader.alg) {\n      protectedHeader.alg = that.cryptographer.getContentSignAlgorithm();\n      protectedHeader.typ = \"JWT\";\n    }\n\n    if (!protectedHeader.kid) {\n      protectedHeader.kid = kid;\n    }\n\n    if (Utils.isString(message)) {\n      toBeSigned = Utils.arrayFromUtf8String(message);\n    } else {\n      try {\n        toBeSigned = Utils.arrayish(message);\n      } catch (e) {\n        if (message instanceof JWS) {\n          toBeSigned = Utils.arrayFromString(Utils.Base64Url.decode(message.payload));\n        } else if (message instanceof Object) {\n          toBeSigned = Utils.arrayFromUtf8String(JSON.stringify(message));\n        } else {\n          throw new Error(\"cannot sign this message\");\n        }\n      }\n    }\n\n    return that.cryptographer.sign(protectedHeader, toBeSigned, rsa_key_promise).then(function(signature) {\n      var jws = new JWS(protectedHeader, unprotectedHeader, toBeSigned, signature);\n      if (message instanceof JWS) {\n        delete jws.payload;\n        if (!message.signatures) {\n          message.signatures = [jws];\n        } else {\n          message.signatures.push(jws);\n        }\n        return message;\n      }\n      return jws;\n    });\n  }\n\n  function doSign (pl, ph, uh, kps, kids) {\n    if (kids.length) {\n      var k_id = kids.shift();\n      var rv = sign(pl, that.signer_aads[k_id] || ph, that.signer_headers[k_id] || uh, kps[k_id], k_id);\n      if (kids.length) {\n        rv = rv.then(function(jws) {\n          return doSign(jws, null, null, kps, kids);\n        });\n      }\n      return rv;\n    }\n  }\n\n  for(var kid in that.key_promises) {\n    if (that.key_promises.hasOwnProperty(kid)) {\n      kids.push(kid);\n    }\n  }\n  return doSign(payload, aad, header, that.key_promises, kids);\n};\n\n\n/**\n * Initialize a JWS object.\n *\n * @param protectedHeader protected header (JS object)\n * @param payload Uint8Array payload to be signed\n * @param signature ArrayBuffer signature of the payload\n * @param header unprotected header (JS object)\n *\n * @constructor\n */\nvar JWS = function(protectedHeader, header, payload, signature) {\n  this.header = header;\n  this.payload = Utils.Base64Url.encodeArray(payload);\n  if (signature) {\n    this.signature = Utils.Base64Url.encodeArray(signature);\n  }\n  this.protected = Utils.Base64Url.encode(JSON.stringify(protectedHeader));\n};\n\nJWS.fromObject = function(obj) {\n  var rv = new JWS(obj.protected, obj.header, obj.payload, null);\n  rv.signature = obj.signature;\n  rv.signatures = obj.signatures;\n  return rv;\n};\n\n/**\n * Serialize a JWS object using the JSON serialization format\n *\n * @returns {Object} a copy of this\n */\nJWS.prototype.JsonSerialize = function() {\n  return JSON.stringify(this);\n};\n\n/**\n * Serialize a JWS object using the Compact Serialization Format\n *\n * @returns {string} BASE64URL(UTF8(PROTECTED HEADER)).BASE64URL(PAYLOAD).BASE64URL(SIGNATURE)\n */\nJWS.prototype.CompactSerialize = function() {\n  return this.protected + '.' + this.payload + '.' + this.signature;\n};\n\n/*-\n * Copyright 2015 Peculiar Ventures\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Handles signature verification.\n *\n * @param cryptographer  an instance of WebCryptographer (or equivalent). Keep\n *                       in mind that decryption mutates the cryptographer.\n * @param message        a JWS message\n * @param keyfinder (optional) a function returning a Promise<CryptoKey> given\n *                             a key id\n *\n * @author Patrizio Bruno <patrizio@desertconsulting.net>\n */\nJoseJWS.Verifier = function (cryptographer, message, keyfinder) {\n\n  var that = this,\n    alg,\n    jwt,\n    aad,\n    header,\n    payload,\n    signatures,\n    protectedHeader,\n    jwtRx = /^([0-9a-z_\\-]+)\\.([0-9a-z_\\-]+)\\.([0-9a-z_\\-]+)$/i;\n\n  that.cryptographer = cryptographer;\n\n  alg = cryptographer.getContentSignAlgorithm();\n\n  that.cryptographer = new Jose.WebCryptographer();\n\n  if (Utils.isString(message)) {\n    if ((jwt = jwtRx.exec(message))) {\n      if (jwt.length != 4) {\n        throw new Error(\"wrong JWS compact serialization format\");\n      }\n\n      message = {\n        protected: jwt[1],\n        payload: jwt[2],\n        signature: jwt[3]\n      };\n    } else {\n      message = JSON.parse(message);\n    }\n  } else if (typeof message != \"object\") {\n    throw new Error(\"data format not supported\");\n  }\n\n  aad = message.protected;\n  header = message.header;\n  payload = message.payload;\n  signatures = message.signatures instanceof Array ? message.signatures.slice(0) : [];\n\n  signatures.forEach(function (sign) {\n    sign.aad = sign.protected;\n    sign.protected = JSON.parse(Utils.Base64Url.decode(sign.protected));\n  });\n\n  that.aad = aad;\n  protectedHeader = Utils.Base64Url.decode(aad);\n  try {\n    protectedHeader = JSON.parse(protectedHeader);\n  } catch (e) {\n  }\n\n  if (!protectedHeader && !header) {\n    throw new Error(\"at least one header is required\");\n  }\n\n  if (!protectedHeader.alg) {\n    throw new Error(\"'alg' is a mandatory header\");\n  }\n\n  if (protectedHeader.alg != alg) {\n    throw new Error(\"the alg header '\" + protectedHeader.alg + \"' doesn't match the requested algorithm '\" + alg + \"'\");\n  }\n\n  if (protectedHeader && protectedHeader.typ && protectedHeader.typ != \"JWT\") {\n    throw new Error(\"typ '\" + protectedHeader.typ + \"' not supported\");\n  }\n\n  if (message.signature) {\n    signatures.unshift({\n      aad: aad,\n      protected: protectedHeader,\n      header: header,\n      signature: message.signature\n    });\n  }\n\n  that.signatures = [];\n  for(var i = 0; i < signatures.length; i++) {\n    that.signatures[i] = JSON.parse(JSON.stringify(signatures[i]));\n    that.signatures[i].signature = Utils.arrayFromString(Utils.Base64Url.decode(signatures[i].signature));\n  }\n\n  that.payload = payload;\n\n  that.key_promises = {};\n  that.waiting_kid = 0;\n\n  if (keyfinder) {\n    that.keyfinder = keyfinder;\n  }\n};\n\n/**\n * Add supported recipients to verify multiple signatures\n *\n * @param rsa_key        public RSA key in json format. Parameters can be base64\n *                       encoded, strings or number (for 'e').\n * @param key_id         a string identifying the rsa_key. OPTIONAL\n * @param alg            String signature algorithm. OPTIONAL\n * @returns Promise<string> a Promise of a key id\n */\nJoseJWS.Verifier.prototype.addRecipient = function (rsa_key, key_id, alg) {\n\n  var that = this,\n    kid_promise,\n    key_promise = Utils.isCryptoKey(rsa_key) ? new Promise(function (resolve) {\n      resolve(rsa_key);\n    }) : Jose.Utils.importRsaPublicKey(rsa_key, alg || that.cryptographer.getContentSignAlgorithm(), \"verify\");\n\n  if (key_id) {\n    kid_promise = new Promise(function (resolve) {\n      resolve(key_id);\n    });\n  } else if (Utils.isCryptoKey(rsa_key)) {\n    throw new Error(\"key_id is a mandatory argument when the key is a CryptoKey\");\n  } else {\n    console.log(\"it's not safe to not pass a key_id\");\n    kid_promise = Jose.WebCryptographer.keyId(rsa_key);\n  }\n\n  that.waiting_kid++;\n\n  return kid_promise.then(function (kid) {\n    that.key_promises[kid] = key_promise;\n    that.waiting_kid--;\n    return kid;\n  });\n};\n\n/**\n * Verifies a JWS signature\n *\n * @returns Promise<Array> a Promise of an array of objects { kid: string, verified: bool, payload?: string }\n *\n * payload is only populated and usable if verified is true\n */\nJoseJWS.Verifier.prototype.verify = function () {\n\n  var that = this,\n    signatures = that.signatures,\n    key_promises = that.key_promises,\n    keyfinder = that.keyfinder,\n    promises = [],\n    check = !!keyfinder || Object.keys(that.key_promises).length > 0;\n\n  if (!check) {\n    throw new Error(\"No recipients defined. At least one is required to verify the JWS.\");\n  }\n\n  if (that.waiting_kid) {\n    throw new Error(\"still generating key IDs\");\n  }\n\n  signatures.forEach(function (sig) {\n    var kid = sig.protected.kid;\n    if (keyfinder) {\n      key_promises[kid] = keyfinder(kid);\n    }\n    promises.push(that.cryptographer.verify(sig.aad, that.payload, sig.signature, key_promises[kid], kid)\n      .then(function (vr) {\n        if (vr.verified) {\n          vr.payload = Utils.Base64Url.decode(that.payload);\n        }\n        return vr;\n      }));\n  });\n  return Promise.all(promises);\n};\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","module.exports = require('./lib/axios');","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(timeoutErrorMessage, config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  var valueFromConfig2Keys = ['url', 'method', 'params', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy'];\n  var defaultToConfig2Keys = [\n    'baseURL', 'url', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress',\n    'maxContentLength', 'validateStatus', 'maxRedirects', 'httpAgent',\n    'httpsAgent', 'cancelToken', 'socketPath'\n  ];\n\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    }\n  });\n\n  utils.forEach(mergeDeepPropertiesKeys, function mergeDeepProperties(prop) {\n    if (utils.isObject(config2[prop])) {\n      config[prop] = utils.deepMerge(config1[prop], config2[prop]);\n    } else if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    } else if (utils.isObject(config1[prop])) {\n      config[prop] = utils.deepMerge(config1[prop]);\n    } else if (typeof config1[prop] !== 'undefined') {\n      config[prop] = config1[prop];\n    }\n  });\n\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    } else if (typeof config1[prop] !== 'undefined') {\n      config[prop] = config1[prop];\n    }\n  });\n\n  var axiosKeys = valueFromConfig2Keys\n    .concat(mergeDeepPropertiesKeys)\n    .concat(defaultToConfig2Keys);\n\n  var otherKeys = Object\n    .keys(config2)\n    .filter(function filterAxiosKeys(key) {\n      return axiosKeys.indexOf(key) === -1;\n    });\n\n  utils.forEach(otherKeys, function otherKeysDefaultToConfig2(prop) {\n    if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    } else if (typeof config1[prop] !== 'undefined') {\n      config[prop] = config1[prop];\n    }\n  });\n\n  return config;\n};\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","export const DB_NAME = \"seven23\";\nexport const DB_VERSION = 15; // Cannot rollback after creation\nexport const API_DEFAULT_URL = \"https://seven23.io\";\n\nexport const ATTACHMENT_DELETE_REQUEST = \"ATTACHMENT_DELETE_REQUEST\";\nexport const UPDATE_ENCRYPTION = \"UPDATE_ENCRYPTION\";\nexport const ENCRYPTION_KEY_CHANGED = \"ENCRYPTION_KEY_CHANGED\";\nexport const ENCRYPTION_ERROR = \"ENCRYPTION_ERROR\";\nexport const FLUSH = \"FLUSH\";\nexport const RESET = \"RESET\";\nexport const POPUP = \"POPUP\";\n\nexport const CATEGORIES_CREATE_REQUEST = \"CATEGORIES_CREATE_REQUEST\";\nexport const CATEGORIES_READ_REQUEST = \"CATEGORIES_READ_REQUEST\";\nexport const CATEGORIES_UPDATE_REQUEST = \"CATEGORIES_UPDATE_REQUEST\";\nexport const CATEGORIES_DELETE_REQUEST = \"CATEGORIES_DELETE_REQUEST\";\nexport const CATEGORIES_RESET = \"CATEGORIES_RESET\";\nexport const CATEGORIES_EXPORT = \"CATEGORIES_EXPORT\";\n\nexport const CHANGES_CREATE_REQUEST = \"CHANGES_CREATE_REQUEST\";\nexport const CHANGES_READ_REQUEST = \"CHANGES_READ_REQUEST\";\nexport const CHANGES_UPDATE_REQUEST = \"CHANGES_UPDATE_REQUEST\";\nexport const CHANGES_DELETE_REQUEST = \"CHANGES_DELETE_REQUEST\";\nexport const CHANGES_EXPORT = \"CHANGES_EXPORT\";\n\nexport const TRANSACTIONS_CREATE_REQUEST = \"TRANSACTIONS_CREATE_REQUEST\";\nexport const TRANSACTIONS_READ_REQUEST = \"TRANSACTIONS_READ_REQUEST\";\nexport const TRANSACTIONS_UPDATE_REQUEST = \"TRANSACTIONS_UPDATE_REQUEST\";\nexport const TRANSACTIONS_DELETE_REQUEST = \"TRANSACTIONS_DELETE_REQUEST\";\nexport const TRANSACTIONS_EXPORT = \"TRANSACTIONS_EXPORT\";\nexport const TRANSACTIONS_SYNC_REQUEST = \"TRANSACTIONS_SYNC_REQUEST\";\nexport const TRANSACTIONS_SWITCH_ID = \"TRANSACTIONS_SWITCH_ID\";\n\nexport const ACCOUNTS_CREATE_REQUEST = \"ACCOUNTS_CREATE_REQUEST\";\nexport const ACCOUNTS_SYNC_REQUEST = \"ACCOUNTS_SYNC_REQUEST\";\nexport const ACCOUNTS_UPDATE_REQUEST = \"ACCOUNTS_UPDATE_REQUEST\";\nexport const ACCOUNTS_DELETE_REQUEST = \"ACCOUNTS_DELETE_REQUEST\";\nexport const ACCOUNTS_CURRENCY_REQUEST = \"ACCOUNTS_CURRENCY_REQUEST\";\nexport const ACCOUNTS_SWITCH_REQUEST = \"ACCOUNTS_SWITCH_REQUEST\";\n\nexport const ACCOUNTS_IMPORT = \"ACCOUNTS_IMPORT\";\n\nexport const CURRENCIES_SYNC_REQUEST = \"CURRENCIES_SYNC_REQUEST\";\nexport const CURRENCIES_CREATE_REQUEST = \"CURRENCIES_CREATE_REQUEST\";\nexport const CURRENCIES_READ_REQUEST = \"CURRENCIES_READ_REQUEST\";\nexport const CURRENCIES_UPDATE_REQUEST = \"CURRENCIES_UPDATE_REQUEST\";\nexport const CURRENCIES_DELETE_REQUEST = \"CURRENCIES_DELETE_REQUEST\";\nexport const CURRENCIES_RESET = \"CURRENCIES_RESET\";\n\nexport const USER_LOGIN = \"LOGIN\";\nexport const USER_LOGOUT = \"LOGOUT\";\nexport const USER_FETCH_PROFILE = \"USER_FETCH_PROFILE\";\nexport const USER_CREATE_REQUEST = \"USER_CREATE_REQUEST\";\nexport const USER_READ_REQUEST = \"USER_READ_REQUEST\";\nexport const USER_UPDATE_REQUEST = \"USER_UPDATE_REQUEST\";\nexport const USER_CHANGE_PASSWORD = \"USER_CHANGE_PASSWORD\";\nexport const USER_CHANGE_EMAIL = \"USER_CHANGE_EMAIL\";\n\nexport const USER_FETCH_TOKEN = \"USER_FETCH_TOKEN\";\nexport const USER_REVOKE_TOKEN = \"USER_REVOKE_TOKEN\";\nexport const USER_DELETE_REQUEST = \"USER_DELETE_REQUEST\";\nexport const USER_CHANGE_THEME = \"USER_CHANGE_THEME\";\nexport const USER_UPDATE_NETWORK = \"USER_UPDATE_NETWORK\";\n\nexport const SERVER_CONNECTING = \"SERVER_CONNECTING\";\nexport const SERVER_CONNECT = \"SERVER_CONNECT\";\nexport const SERVER_CONNECT_FAIL = \"SERVER_CONNECT_FAIL\";\nexport const SERVER_SYNC = \"SERVER_SYNC\";\nexport const SERVER_SYNCED = \"SERVER_SYNCED\";\nexport const SERVER_LOADED = \"SERVER_LOADED\";\nexport const SERVER_LOGGED = \"SERVER_LOGGED\";\nexport const SERVER_LAST_EDITED = \"SERVER_LAST_EDITED\";\nexport const SERVER_INIT = \"SERVER_INIT\";\nexport const SERVER_UNDER_MAINTENANCE = \"SERVER_UNDER_MAINTENANCE\";\nexport const SERVER_ERROR = \"SERVER_ERROR\";\n\nexport const STATISTICS_DASHBOARD = \"STATISTICS_DASHBOARD\";\nexport const STATISTICS_VIEWER = \"STATISTICS_VIEWER\";\nexport const STATISTICS_PER_DATE = \"STATISTICS_PER_DATE\";\nexport const STATISTICS_PER_CATEGORY = \"STATISTICS_PER_CATEGORY\";\nexport const STATISTICS_SEARCH = \"STATISTICS_SEARCH\";\nexport const STATISTICS_NOMADLIST = \"STATISTICS_NOMADLIST\";\n\nexport const REPORT_SET_DATES = \"REPORT_SET_DATES\";\nexport const NAVIGATE = \"NAVIGATE\";\nexport const SNACKBAR = \"SNACKBAR\";\nexport const SNACKBAR_POP = \"SNACKBAR_POP\";\nexport const APP_LAST_SEEN = \"APP_LAST_SEEN\";\nexport const VISIBILITY = \"VISIBILITY\";\nexport const CACHE_DID_UPDATE = \"CACHE_DID_UPDATE\";\n\nexport const CHANGE_EVENT = \"CHANGE_EVENT\";\nexport const ADD_EVENT = \"ADD_EVENT\";\nexport const DELETE_EVENT = \"DELETE_EVENT\";\nexport const UPDATE_EVENT = \"UPDATE_EVENT\";\n","import { DB_NAME, DB_VERSION } from \"./constants\";\n\nexport class Storage {\n  constructor() {}\n\n  connectIndexedDB() {\n    return new Promise(function(resolve, reject) {\n      try {\n        let request = indexedDB.open(DB_NAME, DB_VERSION);\n        request.onupgradeneeded = function(event) {\n          let connection = event.target.result;\n\n          // Purge indexedb\n          [...connection.objectStoreNames].forEach(item => {\n            connection.deleteObjectStore(item);\n          });\n\n          // Create an objectStore to hold information about our customers. We're\n          // going to use \"ssn\" as our key path because it's guaranteed to be\n          // unique - or at least that's what I was told during the kickoff meeting.\n          var objectStore = connection.createObjectStore(\"transactions\", {\n            keyPath: \"id\"\n          });\n          objectStore.createIndex(\"account\", \"account\", { unique: false });\n          objectStore.createIndex(\"date\", \"date\", { unique: false });\n          objectStore.createIndex(\"category\", [\"account\", \"category\"], {\n            unique: false\n          });\n\n          objectStore = connection.createObjectStore(\"changes\", {\n            keyPath: \"id\"\n          });\n          objectStore.createIndex(\"account\", \"account\", { unique: false });\n\n          objectStore = connection.createObjectStore(\"categories\", {\n            keyPath: \"id\"\n          });\n          objectStore.createIndex(\"account\", \"account\", { unique: false });\n        };\n        request.onblocked = function(event) {\n          console.error(event);\n          reject(event);\n        };\n\n        request.onerror = function(event) {\n          console.error(request.error);\n          reject(event);\n        };\n        request.onsuccess = function(event) {\n          resolve(event.target.result);\n        };\n      } catch (err) {\n        console.error(err);\n        reject(err);\n      }\n    });\n  }\n\n  reset() {}\n}\n\nlet StorageInstance = new Storage();\n\nexport default StorageInstance;\n","// import jose from 'node-jose';\n\nimport { Jose, JoseJWE } from \"jose-jwe-jws\";\n\nfunction arrayFromString(str) {\n  var arr = str.split(\"\").map(function(c) {\n    return c.charCodeAt(0);\n  });\n  return new Uint8Array(arr);\n}\n\nfunction b64tob64u(a) {\n  a = a.replace(/\\=/g, \"\");\n  a = a.replace(/\\+/g, \"-\");\n  a = a.replace(/\\//g, \"_\");\n  return a;\n}\n\nfunction _arrayBufferToBase64(buffer) {\n  var binary = \"\";\n  var bytes = new Uint8Array(buffer);\n  var len = bytes.byteLength;\n  for (var i = 0; i < len; i++) {\n    binary += String.fromCharCode(bytes[i]);\n  }\n  return b64tob64u(btoa(binary));\n}\n\nconst ERROR_NO_KEY =\n  \"Encryption Key missing. Please use Encryption.key(input) before processing data.\";\nexport class Encryption {\n  constructor() {\n    this.cryptographer = new Jose.WebCryptographer();\n    this.cryptographer.setKeyEncryptionAlgorithm(\"A256KW\");\n    this.cryptographer.setContentEncryptionAlgorithm(\"A128CBC-HS256\");\n\n    this.encrypter = null;\n    this.decrypter = null;\n\n    this._key = null;\n  }\n\n  key = key => {\n    const that = this;\n    return new Promise((resolve, reject) => {\n      Jose.crypto.subtle\n        .digest({ name: \"SHA-256\" }, arrayFromString(key))\n        .then(function(hash) {\n          that._key = Jose.crypto.subtle.importKey(\n            \"jwk\",\n            {\n              kty: \"oct\",\n              k: _arrayBufferToBase64(hash),\n              length: 256,\n              alg: \"A256KW\"\n            },\n            { name: \"AES-KW\" },\n            true,\n            [\"wrapKey\", \"unwrapKey\"]\n          );\n\n          that._key\n            .then(_ => {\n              that.encrypter = new JoseJWE.Encrypter(\n                that.cryptographer,\n                that._key\n              );\n              that.decrypter = new JoseJWE.Decrypter(\n                that.cryptographer,\n                that._key\n              );\n              resolve();\n            })\n            .catch(reject);\n        });\n    });\n  };\n\n  // Input is a string.\n  encrypt = (input = {}) => {\n    if (!this._key) {\n      throw new Error(ERROR_NO_KEY);\n    }\n    const that = this;\n    return new Promise((resolve, reject) => {\n      that.encrypter\n        .encrypt(JSON.stringify(input))\n        .then(function(result) {\n          resolve(result);\n        })\n        .catch(function(err) {\n          console.error(err);\n          reject();\n        });\n    });\n  };\n\n  // Input is a string.\n  decrypt = input => {\n    const that = this;\n    return new Promise((resolve, reject) => {\n      that.decrypter\n        .decrypt(input)\n        .then(function(decrypted_plain_text) {\n          resolve(JSON.parse(decrypted_plain_text));\n        })\n        .catch(function(err) {\n          console.error(err);\n          reject();\n        });\n    });\n  };\n\n  reset = () => {\n    this._key = null;\n  };\n}\n\nlet EncryptionInstance = new Encryption();\n\nexport default EncryptionInstance;\n","import {\n  CATEGORIES_READ_REQUEST,\n  CATEGORIES_EXPORT,\n  ENCRYPTION_KEY_CHANGED,\n  FLUSH,\n  DB_NAME,\n  DB_VERSION\n} from \"../constants\";\nimport axios from \"axios\";\nimport storage from \"../storage\";\nimport encryption from \"../encryption\";\n\nfunction generateBlob(category) {\n  const blob = {};\n  blob.name = category.name;\n  if (category.parent === null) {\n    delete category.parent;\n  } else {\n    blob.parent = category.parent;\n  }\n  return blob;\n}\n\nfunction recursiveGrowTree(list, category) {\n  let children = list\n    .filter(item => {\n      return item.parent === category.id;\n    })\n    .sort((a, b) => {\n      return a.name.toLowerCase() > b.name.toLowerCase() ? 1 : -1;\n    });\n\n  if (children) {\n    children.forEach(item => {\n      item.children = recursiveGrowTree(list, item);\n    });\n    return children;\n  } else {\n    return null;\n  }\n}\n\nonmessage = function(event) {\n  // Action object is the on generated in action object\n  const action = event.data;\n  const { uuid } = action;\n\n  switch (action.type) {\n    case CATEGORIES_EXPORT: {\n      const categories = [];\n\n      storage.connectIndexedDB().then(connection => {\n        let index = null; // criteria\n        let keyRange = null; // values\n\n        index = connection\n          .transaction(\"categories\")\n          .objectStore(\"categories\")\n          .index(\"account\");\n\n        keyRange = IDBKeyRange.only(action.account);\n        let cursor = index.openCursor(keyRange);\n        cursor.onsuccess = function(event) {\n          var cursor = event.target.result;\n          if (cursor) {\n            const category = event.target.result.value;\n            delete category.account;\n            categories.push(category);\n            cursor.continue();\n          } else {\n            postMessage({\n              uuid,\n              type: CATEGORIES_EXPORT,\n              categories: categories\n            });\n          }\n        };\n      });\n\n      break;\n    }\n\n    case CATEGORIES_READ_REQUEST: {\n      let categoriesList = []; // Set object of Transaction\n      let categoriesTree = []; // Set object of Transaction\n\n      storage.connectIndexedDB().then(connection => {\n        let index = null; // criteria\n\n        if (action.id) {\n          index = connection\n            .transaction(\"categories\")\n            .objectStore(\"categories\")\n            .get(action.id);\n          index.onsuccess = event => {\n            postMessage({\n              uuid,\n              type: action.type,\n              category: index.result\n            });\n          };\n        } else {\n          let keyRange = null; // values\n\n          index = connection\n            .transaction(\"categories\")\n            .objectStore(\"categories\")\n            .index(\"account\");\n\n          keyRange = IDBKeyRange.only(action.account);\n\n          const ids = [];\n          let cursor = index.openCursor(keyRange);\n          cursor.onsuccess = function(event) {\n            var cursor = event.target.result;\n            if (cursor) {\n              const category = event.target.result.value;\n              if (!category.parent || category.parent === category.id) {\n                category.parent = null;\n              }\n              ids.push(category.id);\n              categoriesList.push(category);\n              cursor.continue();\n            } else {\n              // If parent does not exit (has been deleted), we move this category to root\n              categoriesList.forEach(c => {\n                if (ids.indexOf(c.parent) === -1) {\n                  c.parent = null;\n                }\n              });\n\n              // We generate children field in tree\n              categoriesTree = categoriesList\n                .filter(category => {\n                  return !category.parent;\n                })\n                .sort((a, b) => {\n                  return a.name.toLowerCase() > b.name.toLowerCase() ? 1 : -1;\n                });\n\n              categoriesTree.forEach(category => {\n                category.children = recursiveGrowTree(categoriesList, category);\n              });\n\n              // Sort List\n              categoriesList = categoriesList.sort((a, b) => {\n                return a.name.toLowerCase() > b.name.toLowerCase() ? 1 : -1;\n              });\n              postMessage({\n                uuid,\n                type: action.type,\n                categoriesList: categoriesList,\n                categoriesTree: categoriesTree\n              });\n            }\n          };\n        }\n      });\n\n      break;\n    }\n\n    case FLUSH: {\n      const { accounts } = action;\n      if (accounts) {\n        // For each account, we select all transaction, and delete them one by one.\n        accounts.forEach(account => {\n          storage.connectIndexedDB().then(connection => {\n            var customerObjectStore = connection\n              .transaction(\"categories\", \"readwrite\")\n              .objectStore(\"categories\")\n              .index(\"account\")\n              .openCursor(IDBKeyRange.only(account));\n\n            customerObjectStore.onsuccess = function(event) {\n              var cursor = event.target.result;\n              // If cursor.continue() still have data to parse.\n              if (cursor) {\n                cursor.delete();\n                cursor.continue();\n              }\n            };\n          });\n        });\n        postMessage({\n          uuid\n        });\n      } else {\n        storage.connectIndexedDB().then(connection => {\n          var customerObjectStore = event.target.result\n            .transaction(\"categories\", \"readwrite\")\n            .objectStore(\"categories\");\n\n          customerObjectStore.clear();\n        });\n        postMessage({\n          uuid\n        });\n      }\n      break;\n    }\n    case ENCRYPTION_KEY_CHANGED: {\n      const { url, token, newCipher, oldCipher } = action;\n\n      axios({\n        url: url + \"/api/v1/categories\",\n        method: \"get\",\n        headers: {\n          Authorization: \"Token \" + token\n        }\n      })\n        .then(function(response) {\n          let promises = [];\n          const categories = [];\n\n          encryption.key(oldCipher).then(() => {\n            response.data.forEach(category => {\n              promises.push(\n                new Promise((resolve, reject) => {\n                  encryption\n                    .decrypt(category.blob === \"\" ? \"{}\" : category.blob)\n                    .then(json => {\n                      delete category.blob;\n                      categories.push({\n                        id: category.id,\n                        blob: json\n                      });\n                      resolve();\n                    });\n                })\n              );\n            });\n\n            Promise.all(promises)\n              .then(() => {\n                promises = [];\n                encryption.key(newCipher).then(() => {\n                  categories.forEach(category => {\n                    promises.push(\n                      new Promise((resolve, reject) => {\n                        encryption.encrypt(category.blob).then(json => {\n                          category.blob = json;\n                          resolve();\n                        });\n                      })\n                    );\n                  });\n\n                  Promise.all(promises)\n                    .then(_ => {\n                      axios({\n                        url: url + \"/api/v1/categories\",\n                        method: \"PATCH\",\n                        headers: {\n                          Authorization: \"Token \" + token\n                        },\n                        data: categories\n                      })\n                        .then(response => {\n                          postMessage({\n                            uuid,\n                            type: action.type\n                          });\n                        })\n                        .catch(exception => {\n                          postMessage({\n                            uuid,\n                            type: action.type,\n                            exception\n                          });\n                        });\n                    })\n                    .catch(exception => {\n                      postMessage({\n                        uuid,\n                        type: action.type,\n                        exception\n                      });\n                    });\n                });\n              })\n              .catch(exception => {\n                postMessage({\n                  uuid,\n                  type: action.type,\n                  exception\n                });\n              });\n          });\n        })\n        .catch(exception => {\n          postMessage({\n            uuid,\n            type: action.type,\n            exception\n          });\n        });\n      break;\n    }\n    default:\n      return;\n  }\n};\n"],"sourceRoot":""}